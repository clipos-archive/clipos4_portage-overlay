# CLIP ChangeLog for sys-apps/portage

*portage-2.1.11.31-r13 (10 May 2017)

  10 May 2017; Tony Cheneau <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r13.ebuild, -portage-2.1.11.31-r12.ebuild:
  Provide exit return code to clip-build (patch courtesy of Matthieu Fertre).

*portage-2.1.11.31-r12 (19 May 2016)

  19 May 2016; Timothée Ravier <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r12.ebuild, -portage-2.1.11.31-r11.ebuild:
  Disable RESTRICT=mirror logic as a workaround for clip-fetch behavior.

*portage-2.1.11.31-r11 (25 Mar 2015)

  25 Mar 2015; Yves-Alexis Perez <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r11.ebuild, -portage-2.1.11.31-r10.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Fix dosym separation between CPREFIX and destination.

*portage-2.1.11.31-r10 (30 Dec 2013)

  30 Dec 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r10.ebuild, -portage-2.1.11.31-r9.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Generate dependencies on sys-apps/openrc for all deb packages
  which are Required and install one or more files into /etc/init.d.
  Such packages generally require /sbin/rc-update in their postinst.
  Change the way we generate dependencies on the build-host version
  of glibc to only generate such dependencies for packages which
  actually include ELF binaries.

*portage-2.1.11.31-r9 (23 Oct 2013)

  23 Oct 2013; ANSSI <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r9.ebuild, -portage-2.1.11.31-r8.ebuild:
  Change ccsd dependency according to ccsd USE flag.

*portage-2.1.11.31-r8 (30 Sep 2013)

  30 Sep 2013; Mickaël Salaün <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r8.ebuild, -portage-2.1.11.31-r7.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Use XZ compression for deb files (except for required packages).

*portage-2.1.11.31-r7 (14 Aug 2013)

  14 Aug 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r7.ebuild, -portage-2.1.11.31-r6.ebuild,
  files/portage-2.1.11.31-clipi-kernelconfig.patch:
  Add support for DEB_SLOT_NAME_SUFFIX, to set a DEB_NAME_SUFFIX
  based on SLOT.

*portage-2.1.11.31-r6 (08 Aug 2013)

  08 Aug 2013; ANSSI <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r6.ebuild, -portage-2.1.11.31-r5.ebuild,
  files/portage-2.1.11.31-clipi-kernelconfig.patch:
  Use tolerant parser to parse kernel config.

*portage-2.1.11.31-r5 (05 Jun 2013)

  05 Jun 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r5.ebuild, -portage-2.1.11.31-r4.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Fix typo in econf that resulted in a wrong libdir when 
  CONF_PREFIX is set.

*portage-2.1.11.31-r4 (27 Dec 2012)

  27 Dec 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r4.ebuild, -portage-2.1.11.31-r3.ebuild:
  files/portage-2.1.11.31-clip.patch:
  Do not include glibc depends in conf packages.

  19 Dec 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  portage-2.1.11.31-r3.ebuild, -portage-2.1.10.3-r5.ebuild,
  -files/portage-2.1.10.3-clip.patch:
  Stabilize, remove old.

*portage-2.1.11.31-r3 (10 Dec 2012)

  10 Dec 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r3.ebuild, -portage-2.1.11.31-r2.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Add a clip_shlib_rdepend() hook to update dependencies in 
  debian packages - for now only adds an explicit dependency
  on glibc for Required packages.

*portage-2.1.11.31-r2 (30 Nov 2012)

  30 Nov 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31-r2.ebuild, -portage-2.1.11.31-r1.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Fix CLIP_VROOTS support.

*portage-2.1.11.31-r1 (29 Nov 2012)

  29 Nov 2012; Vincent Strubel <clipos@ssi.gouv.fr> 
  +portage-2.1.11.31-r1.ebuild, -portage-2.1.11.31.ebuild,
  files/portage-2.1.11.31-clip.patch:
  Fix typo in dependency calculations. 
  Fix sha2sums generation, which must have been somewhat broken
  for a while (with a leading '(stdin)=' on each line that is 
  not supposed to be there - I guess openssl-1.0 changed the
  output off openssl dgst and I did not notice).

*portage-2.1.11.31 (26 Nov 2012)

  26 Nov 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.11.31.ebuild, +files/portage-2.1.11.31-clip.patch:
  Import and patch latest stable release, with EAPI 5 support.
  Finally drop the 'srcdeb' features I haven't once used or 
  even simply tested in more than five years.
  ~x86 only for now - don't do this at home, kids.

*portage-2.1.10.3-r5 (22 Mar 2012)

  22 Mar 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3-r5.ebuild, -portage-2.1.10.3-r4.ebuild,
  files/portage-2.1.10.3-clip.patch:
  Export CATEGORY_FR.

*portage-2.1.10.3-r4 (30 Aug 2011)

  30 Aug 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3-r4.ebuild, -portage-2.1.10.3-r3.ebuild,
  files/portage-2.1.10.3-clip.patch:
  Fix doins directory creation for paths in ${CPREFIX}/etc.

  27 Jul 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  portage-2.1.10.3-r3.ebuild, -portage-2.1.9.42-r2.ebuild,
  -files/portage-2.1.9.42-clip.patch:
  Stabilize newer version, remove old.

*portage-2.1.10.3-r3 (20 Jul 2011)

  20 Jul 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3-r3.ebuild, -portage-2.1.10.3-r2.ebuild,
  files/portage-2.1.10.3-clip.patch:
  Fix dodir and doins so that doins -r properly works.

*portage-2.1.10.3-r2 (19 Jul 2011)

  19 Jul 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3-r2.ebuild, -portage-2.1.10.3-r1.ebuild,
  files/portage-2.1.10.3-clip.patch:
  Fix dodoc dir creation.

*portage-2.1.10.3-r1 (18 Jul 2011)

  18 Jul 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3-r1.ebuild, -portage-2.1.10.3.ebuild,
  files/portage-2.1.10.3-clip.patch:
  Fix typo in dosym handler.

*portage-2.1.10.3 (13 Jul 2011)

  13 Jul 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.10.3.ebuild, +files/portage-2.1.10.3-clip.patch:
  Add new version, ~x86 for now, with: 
   - support for EAPI 4
   - better flexibility in the handling of CPREFIX : dodir /usr/local/foo
   will no longer create /usr/local/local/foo ...
   - the hash function used to create verictl entries for lib is no
   longer hardcoded to CCSD, but to whatever is in the VERICTL_HASH_ALG
   env var, defaulting to sha256 (more portable than CCSD).

*portage-2.1.9.42-r2 (08 Jun 2011)

  08 Jun 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.9.42-r2.ebuild, -portage-2.1.9.42-r1.ebuild,
  files/portage-2.1.9.42-clip.patch:
  Add some simple QA checks when generating a debian package.

*portage-2.1.9.42-r1 (08 Jun 2011)

  08 Jun 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.9.42-r1.ebuild, -portage-2.1.9.42.ebuild,
  files/portage-2.1.9.42-clip.patch:
  Clean up a bit the messy env var naming scheme : variables that
  affect only the way debian packages are built should be DEB_* 
  rather than CLIP_*.

*portage-2.1.9.42 (07 Jun 2011)

  07 Jun 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.9.42.ebuild, -portage-2.1.8.3-r7.ebuild,
  -files/portage-2.1.8.3-python-2.6.6.patch,
  -files/portage-2.1.8.3-r2-clip.patch, +files/portage-2.1.9.42-clip.patch:
  Bump to latest, support EAPI 4.

*portage-2.1.8.3-r7 (20 May 2011)

  20 May 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r7.ebuild, -portage-2.1.8.3-r6.ebuild,
  files/portage-2.1.8.3-r2-clip.patch:
  Fix usr_ld_script QA check - makes no sense with 'nostatlib'
  in features.

*portage-2.1.8.3-r6 (16 May 2011)

  16 May 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r6.ebuild, -portage-2.1.8.3-r5.ebuild,
  files/portage-2.1.8.3-r2-clip.patch:
  Add support for a --bdeps-only option : only include 
  DEPENDs in the depgraph, for use by clip-compile --depends.

*portage-2.1.8.3-r5 (31 Jan 2011)

  31 Jan 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r5.ebuild, -portage-2.1.8.3-r4.ebuild:
  files/portage-2.1.8.3-python-2.6.6.patch:
  Improve support for python > 2.6.6 (i.e. now we can not only
  merge, but also unmerge ! Yeeepeee !).

*portage-2.1.8.3-r4 (13 Jan 2011)

  13 Jan 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r4.ebuild, -portage-2.1.8.3-r3.ebuild,
  +files/portage-2.1.8.3-python-2.6.6.patch:
  Add patch to support python > 2.6.5.

*portage-2.1.8.3-r3 (04 Jan 2011)

  04 Jan 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r3.ebuild, -portage-2.1.8.3-r2.ebuild,
  -files/portage-2.1.8.3-r1-clip.patch, 
  +files/portage-2.1.8.3-r2-clip.patch:
  Generate CBUILD build-info file even on virtual packages.

*portage-2.1.8.3-r2 (27 Jul 2010)

  27 Jul 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r2.ebuild, -portage-2.1.8.3-r1.ebuild,
  -files/portage-2.1.6.13-r5-clip.patch,
  -files/portage-2.1.8.3-clip.patch, +files/portage-2.1.8.3-r1-clip.patch:
  Fix fowners.

  20 Jul 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  portage-2.1.8.3-r1.ebuild, -portage-2.1.6.13-r5.ebuild:
  Stabilize 2.1.8.3 and remove old.

*portage-2.1.8.3-r1 (21 Jun 2010)

  21 Jun 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3-r1.ebuild, -portage-2.1.8.3.ebuild,
  files/portage-2.1.8.3-clip.patch:
  Fix DESTTREE for CPREFIX.

*portage-2.1.8.3 (10 Jun 2010)

  10 Jun 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.8.3.ebuild, +files/portage-2.1.8.3-clip.patch:
  Add newest stable, as ~x86 only for now. Brings EAPI 3 support.

*portage-2.1.6.13-r5 (21 Jan 2010)

  21 Jan 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13-r5.ebuild, -portage-2.1.6.13-r4.ebuild,
  -files/portage-2.1.2.2-lzma.patch, -files/portage-2.1.2.2-r15-clip.patch,
  +files/portage-2.1.6.13-r5-clip.patch, -files/portage-2.1.6.13-r4-clip.patch:
  Change clip_arg() to work ok with empty argument.
  Fix handling of \\ in file names when generating sha2sums.
  Cleanup files.

*portage-2.1.6.13-r4 (21 Oct 2009)

  21 Oct 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13-r4.ebuild, -portage-2.1.6.13-r3.ebuild:
  +files/portage-2.1.6.13-r4-clip.patch, 
  -files/portage-2.1.6.13-r3-clip.patch:
  Bump - fix .keep files no longer being removed from deb files.

*portage-2.1.6.13-r3 (22 Sep 2009)

  22 Sep 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13-r3.ebuild, -portage-2.1.6.13-r2.ebuild,
  -portage-2.1.2.2-r15.ebuild, +files/portage-2.1.6.13-r3-clip.patch, 
  -files/portage-2.1.6.13-r2-clip.patch:
  Export DEB_JAILS from ebuild / env to gencontrol.pl, to 
  support the inclusion of RM jails lists in .debs.
  Remove obsolete ebuild.

*portage-2.1.6.13-r2 (19 Aug 2009)

  19 Aug 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13-r2.ebuild, -portage-2.1.6.13-r1.ebuild:
  +files/portage-2.1.6.13-r2-clip.patch, 
  -files/portage-2.1.6.13-r1-clip.patch:
  Export DEPENDS_FR from ebuild to gencontrol.pl, to support
  the inclusion of French descriptions in .debs.

*portage-2.1.6.13-r1 (17 Aug 2009)

  17 Aug 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13-r1.ebuild, -portage-2.1.6.13.ebuild:
  +files/portage-2.1.6.13-r1-clip.patch, 
  -files/portage-2.1.6.13-clip.patch:
  Fix recursive doins with CPREFIX.

*portage-2.1.6.13 (28 Jul 2009)

  28 Jul 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.6.13.ebuild, +files/portage-2.1.6.13-clip.patch:
  Initial import of a bumped portage, supporting EAPI=2..

*portage-2.1.2.2-r15 (12 May 2009)

  12 May 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r15.ebuild, -portage-2.1.2.2-r14.ebuild,
  +files/portage-2.1.2.2-r15-clip.patch, -files/portage-2.1.2.2-r14-clip.patch:
  Add CONF_DEPENDS variable support, to define the "ConfDepends:" debian field.

*portage-2.1.2.2-r14 (22 Apr 2009)

  22 Apr 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r14.ebuild, -portage-2.1.2.2-r13.ebuild:
  +files/portage-2.1.2.2-r14-clip.patch, -files/portage-2.1.2.2-r13-clip.patch:
  Switch to new verictl entry format (for use with kernel-2.6.28).

*portage-2.1.2.2-r13 (23 Mar 2009)

  23 Mar 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r13.ebuild, -portage-2.1.2.2-r12.ebuild,
  +files/portage-2.1.2.2-r13-clip.patch, -files/portage-2.1.2.2-r1-clip-eads.patch,
  -files/portage-2.1.2.2-r12-clip.patch, -files/portage-2.1.2.2-r2-clip-eads.patch,
  -files/portage-2.1.2.2-r3-clip-eads.patch, -files/portage-2.1.2.2-r4-clip-eads.patch:
  Bump. Unify CLIP patches.
  Support "Suggests" field generation through DEB_SUGGESTS variable.
  Include USE file in package meta-data.
  Replace obsolete 822-date calls with 'date -R'.

*portage-2.1.2.2-r12 (25 Aug 2008)

  25 Aug 2008; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r12.ebuild, -portage-2.1.2.2-r11.ebuild,
  -files/portage-2.1.2.2-r11-clip.patch, +files/portage-2.1.2.2-r12-clip.patch:
  Add support for a CLIP_CONF_FILES_VIRTUAL variable. The files in that variable
  are added to conffiles.list, but otherwise not treated as conffiles. This is useful
  for conffiles that are not created by any package, e.g. conffiles.list itself, or
  ccsd.pvr.

*portage-2.1.2.2-r11 (17 Jul 2008)

  17 Jul 2008; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r11.ebuild, -portage-2.1.2.2-r10.ebuild,
  -files/portage-2.1.2.2-r10-clip.patch, +files/portage-2.1.2.2-r11-clip.patch:
  Add support for CLIP_CONFFILE_NOCOPY. This works the same as CLIP_CONFFILE, except
  the file is not added to conffiles.list, and thus not copied on core update. This
  is meant for files which are already shared between two CLIP installs, e.g. 
  /etc/core stuff.

*portage-2.1.2.2-r10 (10 Jun 2008)

  10 Jun 2008; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r10.ebuild, -portage-2.1.2.2-r9.ebuild,
  -files/portage-2.1.2.2-r9-clip.patch, +files/portage-2.1.2.2-r10-clip.patch:
  Add CCSD veriexec digest support in clip_do_lib (and make it the default 
  for DSOs). Create a single veriexec file per package (common with verictl.eclass).
  Install patches with use clip-devstation instead of clip.

*portage-2.1.2.2-r9 (21 Apr 2008)

  21 Apr 2008; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r9.ebuild, -portage-2.1.2.2-r8.ebuild,
  +files/portage-2.1.2.2-lzma.patch:
  Add missing CPREFIX support in doenvd.
  Add lzma support to unpack() (backported from current portage).

  20 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.2.2-r8-clip.patch:
  Do not add CLIP_CONF_FILES to debian conffiles, as we do not
  manage them properly at the moment.
  Do not bail out immediately in CONF_FILES postinst scripts when
  cmp is not found, wait until we actually need it.

*portage-2.1.2.2-r8 (16 Nov 2007)

  16 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r8.ebuild, +files/portage-2.1.2.2-r8-clip.patch:
  -portage-2.1.2.2-r7.ebuild, -files/portage-2.1.2.2-r6-clip.patch:
  Better conffile management: rename conffiles as foo/bar => foo/.bar.confnew,
  add them automatically to a list in /etc/admin/clip-install/conffiles.list, 
  which we could use as source for files to copy during an update or a rollback.
  On top of this, conffiles are only kept when they actually differ from the 
  current local file.
  
*portage-2.1.2.2-r7 (26 Sep 2007)

  26 Sep 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r7.ebuild, +files/portage-2.1.2.2-r4-clip-eads.patch:
  -portage-2.1.2.2-r6.ebuild:
  Merge from EADS's -r5, with the following changelog. Note that the patch
  is renamed to *-r4-clip-eads.patch, instead of *-r4-clip.patch.

	*portage-2.1.2.2-r5 (12 Nov 2007)

	  12 Nov 2007; EADS D&S <clipos@ssi.gouv.fr>
	  +portage-2.1.2.2-r5.ebuild, +files/portage-2.1.2.2-r4-clip.patch
	  Ticket 37 correction (--buildsrcdeb should work now)
	  Ticket 38 enhancement (add eclass packages to the Build-Depends list)

  07 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  Remove stale ebuilds before 2.1.2.2-r6.

*portage-2.1.2.2-r6 (26 Sep 2007)

  26 Sep 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r6.ebuild, +files/portage-2.1.2.2.-r6-clip.patch:
  Add CLIP_CONF_FILES support. When that variable is defined to a list
  of files (full paths relative to ${D}), every one of those files will
  be suffixed by '.confnew' in the package data tree, and a postinst
  script will be created to move them back to their original name 
  (without the suffix) if they are not present on the target system. On
  top of that, all of those files will be added to the 'conffiles' control
  file in the generated .deb.

*portage-2.1.2.2-r5 (26 Sep 2007)

  26 Sep 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r5.ebuild:
  As promised, merge of EADS's -r4 patches and my -r3.
  
*portage-2.1.2.2-r4 (26 Sep 2007)

  26 Sep 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r4.ebuild, +files/portage-2.1.2.2-r2-clip-eads.patch,
  +files/portage-2.1.2.2-r3-clip-eads.patch:
  Import from EADS branch, with the following ChangeLog: 

	*portage-2.1.2.2-r4 (18 Sep 2007)

	  18 Sep 2007; EADS D&S <clipos@ssi.gouv.fr>
	  +portage-2.1.2.2-r4.ebuild, +files/portage-2.1.2.2-r3-clip.patch
	  Bug during the src.deb packages creation if using many distfiles.
	  Do not need anymore to compile in order create a src.deb package
	  (add buildinfo ebuild command).

	*portage-2.1.2.2-r3 (24 Jul 2007)

	  24 Jul 2007; EADS D&S <clipos@ssi.gouv.fr>
	  +portage-2.1.2.2-r3.ebuild, +files/portage-2.1.2.2-r2-clip.patch
	  Copy the ChangeLog and ClipChangeLog files in the packages created.

  Note that EADS's -r3 is not imported, as it conflicts with my -r3. Note also
  that -r4 does not have my -r3's patches, and will thus not work for the latest 
  clip-lsm kernels. Will do a merge in -r5 ASAP.

*portage-2.1.2.2-r3 (24 Jul 2007)

  24 Jul 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r3.ebuild, +files/portage-2.1.2.2-r3-clip.patch:
  Bump. Make sure all dynamic libraries are marked a+x, so they work
  with the latest clip-kernel. Remove /usr/local/etc/{conf.d,init.d,
  env.d,revdep-rebuild}. Be more cautious with files from 
  ${FILESDIR}/_debian/ : try not to overwrite preexisting maintainer
  scripts.
 

*portage-2.1.2.2-r2 (29 Jun 2007)

  29 Jun 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +portage-2.1.2.2-r2.ebuild, +files/portage-2.1.2.2-r1-clip.patch,
  +files/portage-2.1.2.2-r1-clip-eads.patch:
  Bump from EADS, no original ChangeLog entry (tsk, tsk :), adds
  -nocheck to dpkg-deb calls.
  
  07 May 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  portage-2.1.2.2-r1.ebuild:
  PATCHVER=${PV} rather than ${PVR}, to avoid a copy.

*portage-2.1.2.2-r1 (24 Apr 2007)

  24 Apr 2007; EADS D&S <clipos@ssi.gouv.fr>
  - files/portage-2.1.2.2-clip-eads.patch :
  add generation of packages src.deb
  upgrade for emerge, ebuild, man pages, 
  packages .deb and packages .src.deb use fields according to document
  "specification du format de paquetage rev 2"

*portage-2.1.2.2 (27 Mar 2007)

  27 Mar 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +files/portage-2.1.2.2.ebuild, +files/portage-2.1.2.2-clip.patch:
  Ported to portage-2.1.2.2 (stable).

  30 Jan 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  Merge in verictl support : generate a common verictl entry
  for all dso's in package, if VERICTL_DOSHLIBS is set.
  
  18 Jan 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  Add NOSTATLIB_KEEPLA env var that, when set to something non-null,
  prevents the 'nostatlib' FEATURE removing .la files (which are used 
  by pretty much all KDE components at runtime).

  27 Oct 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  More support for dpkg generation:
   - added support for passing build date, build hostname and username,
   and installed size to gencontrol.pl.
   - an optionnal maintainer ($CLIP_DPKG_MAINTAINER) is passed as well.
   - generate a sha256 checksums control file (just like debian's 
   md5sums files) if CLIP_DPKG_SHA2 is set to a non-null string 
   (needs openssl-0.9.8*).

  11 Sep 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  Add a pkg_predeb hook, that may defined in an ebuild / eclass, 
  and is then called by dyn-deb before generating the control file.
  This can be used (e.g. in x-modular.eclass) to dynamically generate
  {post,pre}{inst,rm} scripts for the debian package.

  08 Sep 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  Update preinst_mask to clean up static libraries when FEATURES
  nostatlib is set. Add support to copy everything from 
  ${FILESDIR}/_debian/ to the generated .deb's control.tgz in 
  dyn_deb, to give maintainers a way to provide pre/post scripts.

  25 Aug 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  Update deb generation: fix builddebonly, call preinst_mask from
  dyn_deb.

  24 Jul 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  files/portage-2.1.1_pre2-clip.patch:
  CLIP_VROOT is dead, long live CLIP_VROOTS. We now support multiple
  VROOTs for a single package, so we can install it a single time even
  if it needs to appear in several roots. That way we get the desired 
  effect without dependency tracking going fubar on us. This is done
  in the dyn_install stage (with the added benefit that it gets included
  in binary packages as well, unlike the previous pkg_preinst-based VROOT
  implementation, which had the transformation happen after packaging), by
  calling src_install on different ${D}. In that case, D can no longer be
  declared read-only, so we may need to check this more carefully in the 
  future.

*portage-2.1.1_pre2-r8 (17 Jul 2006)

  17 Jul 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +files/portage-2.1.1_pre2-clip.patch, +portage-2.1.1_pre2-clip.patch:
  Import current ~x86 portage to keep in sync, add patch for that rev
  that introduces a CPREFIX (which is substituted to a default "/usr", 
  except for /etc which is always "${CPREFIX}/etc". This does a better
  job than the old clip-usrsep, is more flexible (e.g. move to /usr/local)
  and does not output a gazillion QA warnings about silly USE flags that
  are not in IUSE. 'bout time I did that, too..
  Make the "noinclude" and "nobins" features conditional on a ROOT that
  is not "/", so we can - hopefully - get rid of build depends issues.
  Also introduces preliminary support for .deb generation, hence the 
  conditional depend on clip-deb. This is limited to --builddebs and
  --builddebsonly (not too sure I did that last one right) flags for 
  emerge, and a "deb" command for ebuild.
  Last *and* least, ATM, is preliminary support for a CLIP_VROOT, which is 
  a kind of silent ROOT which is implemented at preinst time, and thus
  only affects the install location (including relative path to ${D}), 
  and not the dependency checking and so forth. Typical use would be 
  to generate packages that can be installed from a given ROOT, but are
  expected to be used from a chroot lower than that ROOT, e.g: 
  ROOT=/vservers/rm_h/update_root, CLIP_VROOT=user_root => install 
  from update_root, run chrooted in user_root.

  NOTE: work is currently being done on a portage-prefix patch, that 
  does something similar to what's being done here. Been there, done
  that, that patch does not work for our purposes (most notably because
  it does separate dependency tracking for each PREFIX - kind of like 
  ROOT actually - and still keeps a /usr prefix on top of each prefix, 
  as in /usr/local/usr... Eeeek).

*portage-2.0.54 (24 Apr 2006)

  24 Apr 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +files/portage-2.0.54-clip.patch:
  Initial import of modified portage for use on the build host.
  Add support for a "silent" clip-usrsep USE flag that tries to
  put everything silently into /usr, including etc stuff. It does
  that both by modyfying the default configure string in econf,
  and by filtering those of the 'do<stuff>' and '<stuff>into' calls
  that could bypass that rule. 
  Also adds "noinclude" and "nobins" features, which remove includes 
  and binaries (bin, sbin) from the image.
  Outstanding issue : portage QA is quite unhappy about checking a 
  flag that is not in IUSE. TODO: add an exception to QA checking ?

  
